{"remainingRequest":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/babel-loader/lib/index.js!/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/src/components/AddBook.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/src/components/AddBook.vue","mtime":1586912121802},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBhdXRoIGZyb20gJ0AvYXV0aCc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgY3VycmVudFVzZXI6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJvb2s6IHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgYXV0aG9yOiAnJywKICAgICAgICBpc2JuOiAnJywKICAgICAgICBpbWFnZTogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIGZhbWlseUlkOiB0aGlzLmN1cnJlbnRVc2VyLmZhbWlseUlkCiAgICAgIH0sCiAgICAgIHVzZXJJbnB1dElzYm46ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYWRkQm9vazogZnVuY3Rpb24gYWRkQm9vaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGZldGNoKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFTU9URV9BUEksICIvYXBpL2Jvb2tzLyIpLCB7CiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgYXV0aC5nZXRUb2tlbigpCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLmJvb2spCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpcy4kZW1pdCgnYWRkLWJvb2snKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Qm9va0Zyb21BcGk6IGZ1bmN0aW9uIGdldEJvb2tGcm9tQXBpKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGZldGNoKCJodHRwczovL29wZW5saWJyYXJ5Lm9yZy9hcGkvYm9va3M/Ymlia2V5cz1JU0JOOiIuY29uY2F0KHRoaXMudXNlcklucHV0SXNibiwgIiZqc2NtZD1kYXRhJmZvcm1hdD1qc29uIiksIHsKICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzMi5ib29rLnRpdGxlID0gZGF0YVsiSVNCTjoiLmNvbmNhdChfdGhpczIudXNlcklucHV0SXNibildLnRpdGxlOwogICAgICAgIF90aGlzMi5ib29rLmF1dGhvciA9IGRhdGFbIklTQk46Ii5jb25jYXQoX3RoaXMyLnVzZXJJbnB1dElzYm4pXS5ieV9zdGF0ZW1lbnQ7CiAgICAgICAgX3RoaXMyLmJvb2suaXNibiA9IHBhcnNlSW50KF90aGlzMi51c2VySW5wdXRJc2JuKTsKICAgICAgICBfdGhpczIuYm9vay5pbWFnZSA9IGRhdGFbIklTQk46Ii5jb25jYXQoX3RoaXMyLnVzZXJJbnB1dElzYm4pXS5jb3Zlci5sYXJnZTsKICAgICAgICBfdGhpczIuYm9vay5kZXNjcmlwdGlvbiA9IGRhdGFbIklTQk46Ii5jb25jYXQoX3RoaXMyLnVzZXJJbnB1dElzYm4pXS5ub3RlczsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["AddBook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,IAAA,MAAA,QAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,KAAA,EAAA,EAJA;AAKA,QAAA,WAAA,EAAA,EALA;AAMA,QAAA,QAAA,EAAA,KAAA,WAAA,CAAA;AANA,OADA;AASA,MAAA,aAAA,EAAA;AATA,KAAA;AAYA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,MAAA,KAAA,WAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,kBAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA;AACA,UAAA,MAAA,EAAA,kBADA;AAEA,0BAAA,kBAFA;AAGA,UAAA,aAAA,EAAA,YAAA,IAAA,CAAA,QAAA;AAHA,SAFA;AAOA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,IAAA;AAPA,OAAA,CAAA,CASA,IATA,CASA;AAAA,eAAA,KAAA,CAAA,KAAA,CAAA,UAAA,CAAA;AAAA,OATA;AAUA,KAZA;AAaA,IAAA,cAbA,4BAaA;AAAA;;AACA,MAAA,KAAA,0DAAA,KAAA,aAAA,8BAAA;AACA,QAAA,MAAA,EAAA;AADA,OAAA,CAAA,CAGA,IAHA,CAGA,UAAA,QAAA,EAAA;AACA,eAAA,QAAA,CAAA,IAAA,EAAA;AACA,OALA,EAMA,IANA,CAMA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,KAAA,GAAA,IAAA,gBAAA,MAAA,CAAA,aAAA,EAAA,CAAA,KAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,MAAA,GAAA,IAAA,gBAAA,MAAA,CAAA,aAAA,EAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,IAAA,GAAA,QAAA,CAAA,MAAA,CAAA,aAAA,CAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,KAAA,GAAA,IAAA,gBAAA,MAAA,CAAA,aAAA,EAAA,CAAA,KAAA,CAAA,KAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,WAAA,GAAA,IAAA,gBAAA,MAAA,CAAA,aAAA,EAAA,CAAA,KAAA;AACA,OAZA;AAaA;AA3BA;AAlBA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n      <!-- <h3>Add a Book</h3> -->\n      <form v-on:submit.prevent=\"getBookFromApi\">\n        <div class=\"form-group\">\n            <label>ISBN Number<b-form-input type=\"text\" v-model=\"userInputIsbn\"/></label>\n            <b-button type=\"submit\">Add Book From API</b-button>\n        </div>\n      </form>\n      <form v-on:submit.prevent=\"addBook\">\n          <div class=\"form-group\">\n            <label>Title<b-form-input type=\"text\" v-model=\"book.title\" required/></label>\n          </div>\n          <div class=\"form-group\">\n            <label>Author<b-form-input type=\"text\" v-model=\"book.author\" required/></label>\n          </div>\n          <div class=\"form-group\">\n            <label>ISBN Number<b-form-input type=\"text\" v-model=\"book.isbn\" required/></label>\n          </div>\n          <div class=\"form-group\">\n            <label>Image<b-form-input type=\"text\" v-model=\"book.image\" required/></label>\n          </div>\n          <div class=\"form-group\">\n            <label>Description<b-form-textarea v-model=\"book.description\" required/></label>\n          </div>\n          <b-button type=\"submit\">Add Book</b-button>\n      </form>\n  </div>\n</template>\n\n<script>\nimport auth from '@/auth';\nexport default {\n    props: {\n      currentUser: Object\n    },\n    data() {\n        return {\n            book: {\n                title: '',\n                author: '',\n                isbn: '',\n                image: '',\n                description: '',\n                familyId: this.currentUser.familyId\n            },\n            userInputIsbn: '',\n            \n        }\n    },\n    methods: {\n        addBook() {\n           fetch(`${process.env.VUE_APP_REMOTE_API}/api/books/`, {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    Authorization: 'Bearer ' + auth.getToken()\n                    },\n                body: JSON.stringify(this.book),\n            })\n            .then(() => this.$emit('add-book'));\n        },\n        getBookFromApi() {\n            fetch(`https://openlibrary.org/api/books?bibkeys=ISBN:${this.userInputIsbn}&jscmd=data&format=json`, {\n            method: 'GET'\n            })\n            .then((response) => {\n              return response.json();\n            })\n            .then((data) => {\n              this.book.title = data[`ISBN:${this.userInputIsbn}`].title;\n              this.book.author = data[`ISBN:${this.userInputIsbn}`].by_statement;\n              this.book.isbn = parseInt(this.userInputIsbn);\n              this.book.image = data[`ISBN:${this.userInputIsbn}`].cover.large;\n              this.book.description = data[`ISBN:${this.userInputIsbn}`].notes;\n            });\n        }\n    }\n}\n</script>\n\n<style scoped>\n    label {\n        width: 100%;\n    }\n    textarea {\n        height: 100px;\n    }\n    div.form-group{\n      margin: 0;\n    }\n    div.container {\n      margin-top: 1%;\n      border: 1px solid grey;\n      border-radius: 10px;\n      width: 40%;\n      margin-left: 0;\n    }\n    form {\n      padding-top: 3%;\n      padding-bottom: 3%;\n    }\n</style>"],"sourceRoot":"src/components"}]}