{"remainingRequest":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/babel-loader/lib/index.js!/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/src/components/AddReadingActivity.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/src/components/AddReadingActivity.vue","mtime":1586912121803},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBhdXRoIGZyb20gJ0AvYXV0aCc7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgY3VycmVudFVzZXI6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2aXR5OiB7CiAgICAgICAgdXNlcklkOiB0aGlzLmN1cnJlbnRVc2VyLmlkLAogICAgICAgIGJvb2tJZDogJycsCiAgICAgICAgcmVhZGluZ0Zvcm1hdDogJycsCiAgICAgICAgbWludXRlc1NwZW50OiAnJywKICAgICAgICBib29rTm90ZXM6ICcnLAogICAgICAgIGNvbXBsZXRlZEJvb2s6IGZhbHNlCiAgICAgIH0sCiAgICAgIGJvb2tzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZEFjdGl2aXR5OiBmdW5jdGlvbiBhZGRBY3Rpdml0eSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGZldGNoKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFTU9URV9BUEksICIvYXBpL2FjdGl2aXR5LyIpLCB7CiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgYXV0aC5nZXRUb2tlbigpCiAgICAgICAgfSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLmFjdGl2aXR5KQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ2FkZC1sb2cnKTsKICAgICAgfSk7CgogICAgICBpZiAoIXRoaXMuYWN0aXZpdHkuY29tcGxldGVkQm9vaykgewogICAgICAgIGZldGNoKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFTU9URV9BUEksICIvYXBpL2Jvb2tzL3BlcnNvbmFsYm9va3NoZWxmLyIpLmNvbmNhdCh0aGlzLmFjdGl2aXR5LnVzZXJJZCwgIi8iKS5jb25jYXQodGhpcy5hY3Rpdml0eS5ib29rSWQpLCB7CiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIGF1dGguZ2V0VG9rZW4oKQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGZldGNoKCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1JFTU9URV9BUEksICIvYXBpL2Jvb2tzL3BlcnNvbmFsYm9va3NoZWxmLyIpLmNvbmNhdCh0aGlzLmFjdGl2aXR5LnVzZXJJZCwgIi8iKS5jb25jYXQodGhpcy5hY3Rpdml0eS5ib29rSWQpLCB7CiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgYXV0aC5nZXRUb2tlbigpCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRBbGxCb29rczogZnVuY3Rpb24gZ2V0QWxsQm9va3MoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZmV0Y2goIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfUkVNT1RFX0FQSSwgIi9hcGkvYm9va3MvIikuY29uY2F0KHRoaXMuY3VycmVudFVzZXIuZmFtaWx5SWQpLCB7CiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIGF1dGguZ2V0VG9rZW4oKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgX3RoaXMyLmJvb2tzID0gZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRBbGxCb29rcygpOwogIH0KfTs="},{"version":3,"sources":["AddReadingActivity.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,IAAA,MAAA,QAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,MAAA,EAAA,KAAA,WAAA,CAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,aAAA,EAAA,EAHA;AAIA,QAAA,YAAA,EAAA,EAJA;AAKA,QAAA,SAAA,EAAA,EALA;AAMA,QAAA,aAAA,EAAA;AANA,OADA;AASA,MAAA,KAAA,EAAA;AATA,KAAA;AAWA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,MAAA,KAAA,WAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,qBAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA;AACA,UAAA,MAAA,EAAA,kBADA;AAEA,0BAAA,kBAFA;AAGA,UAAA,aAAA,EAAA,YAAA,IAAA,CAAA,QAAA;AAHA,SAFA;AAOA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,QAAA;AAPA,OAAA,CAAA,CASA,IATA,CASA;AAAA,eAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA;AAAA,OATA;;AAUA,UAAA,CAAA,KAAA,QAAA,CAAA,aAAA,EAAA;AACA,QAAA,KAAA,WAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,0CAAA,KAAA,QAAA,CAAA,MAAA,cAAA,KAAA,QAAA,CAAA,MAAA,GAAA;AACA,UAAA,MAAA,EAAA,MADA;AAEA,UAAA,OAAA,EAAA;AACA,YAAA,MAAA,EAAA,kBADA;AAEA,4BAAA,kBAFA;AAGA,YAAA,aAAA,EAAA,YAAA,IAAA,CAAA,QAAA;AAHA;AAFA,SAAA,CAAA;AAQA,OATA,MASA;AACA,QAAA,KAAA,WAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,0CAAA,KAAA,QAAA,CAAA,MAAA,cAAA,KAAA,QAAA,CAAA,MAAA,GAAA;AACA,UAAA,MAAA,EAAA,QADA;AAEA,UAAA,OAAA,EAAA;AACA,YAAA,MAAA,EAAA,kBADA;AAEA,4BAAA,kBAFA;AAGA,YAAA,aAAA,EAAA,YAAA,IAAA,CAAA,QAAA;AAHA;AAFA,SAAA,CAAA;AAQA;AACA,KA/BA;AAgCA,IAAA,WAhCA,yBAgCA;AAAA;;AACA,MAAA,KAAA,WAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,wBAAA,KAAA,WAAA,CAAA,QAAA,GAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,OAAA,EAAA;AACA,UAAA,MAAA,EAAA,kBADA;AAEA,UAAA,aAAA,EAAA,YAAA,IAAA,CAAA,QAAA;AAFA;AAFA,OAAA,CAAA,CAOA,IAPA,CAOA,UAAA,QAAA,EAAA;AACA,eAAA,QAAA,CAAA,IAAA,EAAA;AACA,OATA,EAUA,IAVA,CAUA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,KAAA,GAAA,IAAA;AACA,OAZA;AAaA;AA9CA,GAjBA;AAiEA,EAAA,OAjEA,qBAiEA;AACA,SAAA,WAAA;AACA;AAnEA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n      <h4>Activity Form</h4>\n      <form v-on:submit.prevent=\"addActivity\">\n        <div class=\"form-group\">\n        <p>Book</p>\n            <select v-model=\"activity.bookId\" required>\n                <option v-for=\"book in books\" v-bind:key=\"book.bookId\" v-bind:value=\"book.bookId\">\n                    {{book.title}}\n                </option>\n            </select>\n        </div>\n          <div class=\"form-group\">\n            <p>Form Of Reading</p>\n                <select v-model=\"activity.readingFormat\">\n                    <option>Paper</option>\n                    <option>Digital</option>\n                    <option>Audiobook</option>\n                    <option>Read-Aloud(Reader)</option>\n                    <option>Read-Aloud(Listener)</option>\n                    <option>Other</option>\n                </select>\n          </div>\n          <div class=\"form-group\">\n            <label>Time Spent<b-form-input type=\"text\" v-model=\"activity.minutesSpent\" placeholder=\"minutes\" required/></label>\n          </div>\n          <div class=\"form-group\">\n            <label>Notes<b-form-textarea v-model=\"activity.bookNotes\"/></label>\n          </div>\n          <span>Have You Completed This Book?</span>\n          <b-check v-model=\"activity.completedBook\"></b-check>\n          <b-button id=\"submitButton\" type=\"submit\">Add Your Activity</b-button>\n      </form>\n  </div>\n</template>\n\n<script>\nimport auth from '@/auth';\nexport default {\n     props: {\n      currentUser: Object\n    },\n    data() {\n        return {\n            activity: {\n                userId: this.currentUser.id,\n                bookId: '',\n                readingFormat: '',\n                minutesSpent: '',\n                bookNotes: '',\n                completedBook: false\n            },\n            books: []\n        }\n    },\n    methods: {\n        addActivity() {\n           fetch(`${process.env.VUE_APP_REMOTE_API}/api/activity/`, {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    Authorization: 'Bearer ' + auth.getToken()\n                    },\n                body: JSON.stringify(this.activity),\n            })    \n            .then(() => this.$emit('add-log'));                                                 \n            if (!this.activity.completedBook) {\n            fetch(`${process.env.VUE_APP_REMOTE_API}/api/books/personalbookshelf/${this.activity.userId}/${this.activity.bookId}`, {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    Authorization: 'Bearer ' + auth.getToken()\n                    }\n                }) \n            } else {\n                fetch(`${process.env.VUE_APP_REMOTE_API}/api/books/personalbookshelf/${this.activity.userId}/${this.activity.bookId}`, {\n                method: 'DELETE',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    Authorization: 'Bearer ' + auth.getToken()\n                    }\n                }) \n            }\n        },\n         getAllBooks() {\n            fetch(`${process.env.VUE_APP_REMOTE_API}/api/books/${this.currentUser.familyId}`, {\n                method: 'GET',\n                headers: {\n                Accept: 'application/json',\n                Authorization: 'Bearer ' + auth.getToken()\n                }\n                })\n                .then((response) => {\n                    return response.json();\n                })\n                .then((data) => {\n                    this.books = data;\n                });\n            }\n    },\n    created() {\n        this.getAllBooks()\n    }\n}\n\n</script>\n\n<style scoped>\n    label {\n        width: 100%;\n    }\n    textarea {\n        height: 100px;\n    }\n    p {\n        margin: 0;\n    }\n    form {\n        padding-bottom: 3%;\n    }\n    div.custom-checkbox {\n        display: inline-block;\n        margin-left: 1%;\n        margin-bottom: 0;\n    }\n    #submitButton {\n        display: block;\n        margin-top: 4%;\n    }\n</style>"],"sourceRoot":"src/components"}]}