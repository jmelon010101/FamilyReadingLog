{"remainingRequest":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/src/components/AddBook.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/src/components/AddBook.vue","mtime":1586912121802},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhdXRoIGZyb20gJ0AvYXV0aCc7CmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiB7CiAgICAgIGN1cnJlbnRVc2VyOiBPYmplY3QKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGJvb2s6IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgICAgIGF1dGhvcjogJycsCiAgICAgICAgICAgICAgICBpc2JuOiAnJywKICAgICAgICAgICAgICAgIGltYWdlOiAnJywKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICAgICAgICAgIGZhbWlseUlkOiB0aGlzLmN1cnJlbnRVc2VyLmZhbWlseUlkCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHVzZXJJbnB1dElzYm46ICcnLAogICAgICAgICAgICAKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFkZEJvb2soKSB7CiAgICAgICAgICAgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9SRU1PVEVfQVBJfS9hcGkvYm9va3MvYCwgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyICcgKyBhdXRoLmdldFRva2VuKCkKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodGhpcy5ib29rKSwKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kZW1pdCgnYWRkLWJvb2snKSk7CiAgICAgICAgfSwKICAgICAgICBnZXRCb29rRnJvbUFwaSgpIHsKICAgICAgICAgICAgZmV0Y2goYGh0dHBzOi8vb3BlbmxpYnJhcnkub3JnL2FwaS9ib29rcz9iaWJrZXlzPUlTQk46JHt0aGlzLnVzZXJJbnB1dElzYm59JmpzY21kPWRhdGEmZm9ybWF0PWpzb25gLCB7CiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgICAgICB0aGlzLmJvb2sudGl0bGUgPSBkYXRhW2BJU0JOOiR7dGhpcy51c2VySW5wdXRJc2JufWBdLnRpdGxlOwogICAgICAgICAgICAgIHRoaXMuYm9vay5hdXRob3IgPSBkYXRhW2BJU0JOOiR7dGhpcy51c2VySW5wdXRJc2JufWBdLmJ5X3N0YXRlbWVudDsKICAgICAgICAgICAgICB0aGlzLmJvb2suaXNibiA9IHBhcnNlSW50KHRoaXMudXNlcklucHV0SXNibik7CiAgICAgICAgICAgICAgdGhpcy5ib29rLmltYWdlID0gZGF0YVtgSVNCTjoke3RoaXMudXNlcklucHV0SXNibn1gXS5jb3Zlci5sYXJnZTsKICAgICAgICAgICAgICB0aGlzLmJvb2suZGVzY3JpcHRpb24gPSBkYXRhW2BJU0JOOiR7dGhpcy51c2VySW5wdXRJc2JufWBdLm5vdGVzOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["AddBook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddBook.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n      <!-- <h3>Add a Book</h3> -->\n      <form v-on:submit.prevent=\"getBookFromApi\">\n        <div class=\"form-group\">\n            <label>ISBN Number<b-form-input type=\"text\" v-model=\"userInputIsbn\"/></label>\n            <b-button type=\"submit\">Add Book From API</b-button>\n        </div>\n      </form>\n      <form v-on:submit.prevent=\"addBook\">\n          <div class=\"form-group\">\n            <label>Title<b-form-input type=\"text\" v-model=\"book.title\" required/></label>\n          </div>\n          <div class=\"form-group\">\n            <label>Author<b-form-input type=\"text\" v-model=\"book.author\" required/></label>\n          </div>\n          <div class=\"form-group\">\n            <label>ISBN Number<b-form-input type=\"text\" v-model=\"book.isbn\" required/></label>\n          </div>\n          <div class=\"form-group\">\n            <label>Image<b-form-input type=\"text\" v-model=\"book.image\" required/></label>\n          </div>\n          <div class=\"form-group\">\n            <label>Description<b-form-textarea v-model=\"book.description\" required/></label>\n          </div>\n          <b-button type=\"submit\">Add Book</b-button>\n      </form>\n  </div>\n</template>\n\n<script>\nimport auth from '@/auth';\nexport default {\n    props: {\n      currentUser: Object\n    },\n    data() {\n        return {\n            book: {\n                title: '',\n                author: '',\n                isbn: '',\n                image: '',\n                description: '',\n                familyId: this.currentUser.familyId\n            },\n            userInputIsbn: '',\n            \n        }\n    },\n    methods: {\n        addBook() {\n           fetch(`${process.env.VUE_APP_REMOTE_API}/api/books/`, {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    Authorization: 'Bearer ' + auth.getToken()\n                    },\n                body: JSON.stringify(this.book),\n            })\n            .then(() => this.$emit('add-book'));\n        },\n        getBookFromApi() {\n            fetch(`https://openlibrary.org/api/books?bibkeys=ISBN:${this.userInputIsbn}&jscmd=data&format=json`, {\n            method: 'GET'\n            })\n            .then((response) => {\n              return response.json();\n            })\n            .then((data) => {\n              this.book.title = data[`ISBN:${this.userInputIsbn}`].title;\n              this.book.author = data[`ISBN:${this.userInputIsbn}`].by_statement;\n              this.book.isbn = parseInt(this.userInputIsbn);\n              this.book.image = data[`ISBN:${this.userInputIsbn}`].cover.large;\n              this.book.description = data[`ISBN:${this.userInputIsbn}`].notes;\n            });\n        }\n    }\n}\n</script>\n\n<style scoped>\n    label {\n        width: 100%;\n    }\n    textarea {\n        height: 100px;\n    }\n    div.form-group{\n      margin: 0;\n    }\n    div.container {\n      margin-top: 1%;\n      border: 1px solid grey;\n      border-radius: 10px;\n      width: 40%;\n      margin-left: 0;\n    }\n    form {\n      padding-top: 3%;\n      padding-bottom: 3%;\n    }\n</style>"]}]}