{"remainingRequest":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/src/views/MyBookshelf.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/src/views/MyBookshelf.vue","mtime":1586912121805},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/musicmaster/Desktop/capstone4/capstone-family_reading/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhdXRoIGZyb20gJ0AvYXV0aCc7CmltcG9ydCBBZGRCb29rIGZyb20gJ0AvY29tcG9uZW50cy9BZGRCb29rLnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGN1cnJlbnRVc2VyOiBPYmplY3QKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAgYm9va3M6IFtdLAogICAgICAgc2hvd0Jvb2tGb3JtOiBmYWxzZSwKICAgICAgIGJvb2tGb3JtVG9nZ2xlVGV4dDogJ0FkZCBCb29rJwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgQWRkQm9vawogIH0sCiAgbWV0aG9kczogewogICAgZ2V0QWxsQm9va3MoKSB7CiAgICAgICBmZXRjaChgJHtwcm9jZXNzLmVudi5WVUVfQVBQX1JFTU9URV9BUEl9L2FwaS9ib29rcy8ke3RoaXMuY3VycmVudFVzZXIuZmFtaWx5SWR9YCwgewogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIGF1dGguZ2V0VG9rZW4oKQogICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICB9KQogICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICB0aGlzLmJvb2tzID0gZGF0YTsKICAgICAgICB9KTsKICAgIH0sCiAgICB0b2dnbGVCb29rRm9ybSgpIHsKICAgICAgdGhpcy5zaG93Qm9va0Zvcm0gPSAhdGhpcy5zaG93Qm9va0Zvcm07CiAgICAgIHRoaXMuc2hvd0Jvb2tGb3JtID8gdGhpcy5ib29rRm9ybVRvZ2dsZVRleHQgPSAnSGlkZSBGb3JtJzogdGhpcy5ib29rRm9ybVRvZ2dsZVRleHQgPSAnQWRkIEJvb2snOwogICAgfSwKICAgIHRvZ2dsZUFuZExvYWRCb29rcygpIHsKICAgICAgdGhpcy50b2dnbGVCb29rRm9ybSgpOwogICAgICB0aGlzLmdldEFsbEJvb2tzKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRBbGxCb29rcygpCiAgfQp9Cg=="},{"version":3,"sources":["MyBookshelf.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyBookshelf.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <h3>Our Family Bookshelf</h3>\n    <div id=\"top-image\">\n      <img id=\"bookshelfImage\" src='@/assets/images/bookshelfSmall.jpg'/>\n    </div>\n    <button class=\"btn btn-info\" v-on:click.prevent=\"toggleBookForm\">{{bookFormToggleText}}</button>\n      <div id=\"form\" v-if=\"showBookForm == true\">\n        <add-book v-bind:currentUser=\"currentUser\" v-on:add-book=\"toggleAndLoadBooks\"/>\n      </div>\n      <div class=\"bookCards\">\n        <div class=\"book\" v-for=\"book in books\" v-bind:key=\"book.bookId\">\n            <div class=\"bookCover\">\n              <img v-if=\"!book.image.includes('jpg')\" id=\"bookImg\" src=\"@/assets/images/bookicon.jpg\"/>\n              <img v-else id=\"bookImg\" :src=\"book.image\"/>\n            </div>\n            <div id=\"title\">\n              <span class=\"bold\"> {{book.title}} </span>\n            </div>\n            <div id=\"author\">\n              <span> Author: {{book.author}} </span>\n            </div>\n            <div id=\"isbn\">\n              <p> ISBN: {{book.isbn}} </p>\n            </div>\n            <!-- <div id=\"description\"> -->\n              <!-- If we have time, we could use Vue's toggle, collapse feature to toggle the description. It's an unknown size that can affect the size of the book \"card\" on this page  -->\n                <!-- <p> Description: {{book.description}} </p>\n            </div> -->\n        </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport auth from '@/auth';\nimport AddBook from '@/components/AddBook.vue';\n\nexport default {\n  props: {\n    currentUser: Object\n  },\n  data() {\n    return {\n       books: [],\n       showBookForm: false,\n       bookFormToggleText: 'Add Book'\n    }\n  },\n  components: {\n    AddBook\n  },\n  methods: {\n    getAllBooks() {\n       fetch(`${process.env.VUE_APP_REMOTE_API}/api/books/${this.currentUser.familyId}`, {\n        method: 'GET',\n          headers: {\n          Accept: 'application/json',\n          Authorization: 'Bearer ' + auth.getToken()\n        }\n        })\n        .then((response) => {\n          return response.json();\n        })\n        .then((data) => {\n          this.books = data;\n        });\n    },\n    toggleBookForm() {\n      this.showBookForm = !this.showBookForm;\n      this.showBookForm ? this.bookFormToggleText = 'Hide Form': this.bookFormToggleText = 'Add Book';\n    },\n    toggleAndLoadBooks() {\n      this.toggleBookForm();\n      this.getAllBooks();\n    }\n  },\n  created() {\n    this.getAllBooks()\n  }\n}\n</script>\n\n<style scoped>\n  .bold {\n    font-weight: bold;\n  }\n\n  .bookCards{\n    display: flex;\n    flex: row;\n    flex-wrap: wrap;\n    width: 91vw;\n  }\n\n  div.book {\n    border: 2px solid lightgrey;\n    border-radius: 5px;\n    margin: 1%;\n    padding: 10px;\n    width: 20%;\n    max-height: 50%;\n  }\n  \n  #bookshelfImage {\n    width: 91vw;\n    height: auto;\n       /* make responsive */\n  }\n  div#top-image {\n    max-height: 200px; \n    /* make responsive */\n    overflow: hidden;\n    border-radius: 15px;\n    margin-bottom: 2%;\n  }\n\n  #bookImg{\n    width: 50%;\n    background-color: red;\n  }\n\n  \n</style>"]}]}